<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registraton Form</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
  @media (max-width: 768px) {
    body {
      background-image: none !important;
    }
  }
</style>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen bg-cover bg-center" 
      style="background-image: url('https://testinggg.iicsindia.org/wp-content/uploads/2025/08/Prasana_Banner.jpg');">

    <div class="bg-white p-6 rounded-lg shadow-lg max-w-xl bg-opacity-90">
        <h1 class="text-xl font-bold mb-4">The Master Speaks - R. PRASANA VENKATESH</h1>
        
        <form id="dataForm" class="space-y-4">
            <input type="text" name="name" placeholder="Name *" required 
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

            <input type="email" name="email" placeholder="Email *" required 
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

            <input type="tel" name="phone" placeholder="Phone Number *" required 
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

            <input type="text" name="city" placeholder="City *" required 
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">

            <select name="prior_experience" required
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="">Do you have prior photography experience? *</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

            
            <select name="occupation" required
                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="">Occupation / Profession *</option>
                <option value="Student">Student</option>
                <option value="Photographer">Photographer</option>
                <option value="Designer">Designer</option>
                <option value="Freelancer">Freelancer</option>
            </select>

            <button type="submit" 
                class="w-full bg-[#8d3796] text-white py-2 rounded-lg hover:bg-blue-600">
                Register Now
            </button>
        </form>

        <p id="status" class="text-center mt-4 text-green-600"></p>
    </div>

    <script>
    const form = document.getElementById('dataForm');
    const status = document.getElementById('status');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const email = form.email.value.trim();
        const phone = form.phone.value.trim();

        // Email validation
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            status.textContent = "Please enter a valid email.";
            status.classList.remove("text-green-600");
            status.classList.add("text-red-600");
            return;
        }

        // Phone validation (digits only, at least 10 digits)
        const phonePattern = /^\d{10,}$/;
        if (!phonePattern.test(phone)) {
            status.textContent = "Please enter a valid phone number (min 10 digits).";
            status.classList.remove("text-green-600");
            status.classList.add("text-red-600");
            return;
        }

        status.textContent = "Please wait...";
        status.classList.remove("text-red-600");
        status.classList.add("text-green-600");

        const formData = new FormData(form);

        try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbzIAN1brnhz4zXwobMYf7_znLqDAJQO_9n19lIJb_61tlmSohZiQtTl2rshHPcTsbbR/exec', {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                status.textContent = "Registration Successful. Please wait..";
                form.reset();

                // Redirect after success
                setTimeout(() => {
                    window.location.href = "https://pages.razorpay.com/pl_R7xdGiYTZ0fGjs/view";
                }, 1000);
            } else {
                status.textContent = "Something went wrong. Please try again.";
            }
        } catch (error) {
            status.textContent = "Error: " + error.message;
        }
    });
</script>


</body>

</html>
